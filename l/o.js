var changeStr="";function FillUrls(){var strdomin=$("#text").val();if(strdomin==null||strdomin==""){$("#word").empty();$("#word").hide();return}changeStr=strdomin;window.status="";var qsData={"wd":strdomin,"p":"3","cb":"ShowDiv","t":new Date().getMilliseconds().toString()};$.ajax({async:false,url:"https://m.baidu.com/su",type:"GET",dataType:"jsonp",jsonp:"jsoncallback",data:qsData,timeout:5000,success:function(json){},error:function(xhr){}})}function ShowDiv(strurls){autoDisplay(strurls);window.status=""}function autoDisplay(autoStr){var Info=autoStr["s"];var text=$("#text").val();var autoNode=$("#word");if(Info.length==0){autoNode.hide();return false}autoNode.empty();for(var i=0;i<Info.length;i++){var wordNode=Info[i];var newDivNode=$("<div>").attr("id",i);newDivNode.attr("class","click_work");newDivNode.html(wordNode).appendTo(autoNode);newDivNode.click(function(){var comText=autoNode.children("div").eq(highlightindex).text();highlightindex=-1;$("#text").val(comText)});if(Info.length>0){autoNode.show()}else{autoNode.hide();highlightindex=-1}}}var highlightindex=-1;$(function(){$("#text").keyup(function(event){var myEvent=event||window.event;var keyCode=myEvent.keyCode;if(keyCode!=38&&keyCode!=40){FillUrls();if(highlightindex!=-1){highlightindex=-1}}else{if(keyCode==38||keyCode==40){if(keyCode==38){var autoNodes=$("#word").children("div");if(highlightindex!=-1){autoNodes.eq(highlightindex).css("background-color","");autoNodes.eq(highlightindex).css("color","");highlightindex--}else{highlightindex=autoNodes.length-1}if(highlightindex==-1){highlightindex=autoNodes.length-1}autoNodes.eq(highlightindex).css("background-color","#313131");autoNodes.eq(highlightindex).css("color","#fff");var comText=autoNodes.eq(highlightindex).text();$("#text").val(comText)}if(keyCode==40){var autoNodes=$("#word").children("div");if(highlightindex!=-1){autoNodes.eq(highlightindex).css("background-color","");autoNodes.eq(highlightindex).css("color","")}highlightindex++;if(highlightindex==autoNodes.length){highlightindex=0}autoNodes.eq(highlightindex).css("background-color","#313131");autoNodes.eq(highlightindex).css("color","#fff");var comText=autoNodes.eq(highlightindex).text();$("#text").val(comText)}}else{if(keyCode==13){if(highlightindex!=-1){var comText=$("#word").hide().children("div").eq(highlightindex).text();highlightindex=-1;$("#text").val(comText)}else{$("#word").hide();$("#text").get(0).blur()}}else{if(keyCode==27){if($("#word").is(":visible")){$("#word").hide()}}}}}});$(document).on("click",".click_work",function(){var word=$(this).text();$("#text").val(word);$("#ok").trigger("click")});$(document).on("click","#text",function(){$("#word").hide()});$(document).on("click","#ok",function(){window.open(document.querySelector(".search-form").action+"?"+document.querySelector("#text").name+"="+document.querySelector("#text").value)})});$(function(){if(window.navigator.userAgent.match(/YemaBrowser/i)?true:false){$('#site-footer').hide()}});